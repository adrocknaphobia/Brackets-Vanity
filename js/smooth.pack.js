Scroller={speed:10,gy:function(b){gy=b.offsetTop;if(b.offsetParent)for(;b=b.offsetParent;)gy+=b.offsetTop;return gy},scrollTop:function(){body=document.body;d=document.documentElement;return body&&body.scrollTop?body.scrollTop:d&&d.scrollTop?d.scrollTop:window.pageYOffset?window.pageYOffset:0},add:function(b,c,e){if(b.addEventListener)return b.addEventListener(c,e,!1);if(b.attachEvent)return b.attachEvent("on"+c,e)},end:function(b){window.event?(window.event.cancelBubble=!0,window.event.returnValue=
!1):b.preventDefault&&b.stopPropagation&&(b.preventDefault(),b.stopPropagation())},scroll:function(b){i=window.innerHeight||document.documentElement.clientHeight;h=document.body.scrollHeight;a=Scroller.scrollTop();a=b>a?h-b>i?a+Math.ceil((b-a)/Scroller.speed):a+Math.ceil((b-a-(h-b))/Scroller.speed):a+(b-a)/Scroller.speed;window.scrollTo(0,a);(a==b||Scroller.offsetTop==a)&&clearInterval(Scroller.interval);Scroller.offsetTop=a},init:function(){Scroller.add(window,"load",Scroller.render)},render:function(){a=
document.getElementsByTagName("a");Scroller.end(this);window.onscroll;for(i=0;i<a.length;i++)if(l=a[i],l.href&&-1!=l.href.indexOf("#")&&(l.pathname==location.pathname||"/"+l.pathname==location.pathname))Scroller.add(l,"click",Scroller.end),l.onclick=function(){Scroller.end(this);l=this.hash.substr(1);a=document.getElementsByTagName("a");for(i=0;i<a.length;i++)a[i].name==l&&(clearInterval(Scroller.interval),Scroller.interval=setInterval("Scroller.scroll("+Scroller.gy(a[i])+")",10))}}};Scroller.init();